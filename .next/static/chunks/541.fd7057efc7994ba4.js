"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{3239:(e,a,t)=>{t.d(a,{A:()=>s});let s=(0,t(7401).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},767:(e,a,t)=>{t.d(a,{A:()=>s});let s=(0,t(7401).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9541:(e,a,t)=>{t.r(a),t.d(a,{Reservation:()=>x,ReservationModal:()=>h});var s=t(5155),l=t(2115),i=t(4088),n=t(8633),r=t(767),c=t(3239);let o=(0,t(7401).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var d=t(7135);let m={firstName:"",lastName:"",email:"",phone:"",date:"",time:"",guests:"",occasion:"",notes:""},p=Array.from({length:d.aM.maxGuestsOnline},(e,a)=>String(a+1));function x(e){let{asModal:a,onClose:t,onReservationCreated:n}=e,[x,h]=(0,l.useState)(m),[b,u]=(0,l.useState)(!1),[k,g]=(0,l.useState)(!1),[j,v]=(0,l.useState)(null),y=e=>h(a=>({...a,[e.target.name]:e.target.value})),N=async e=>{e.preventDefault(),g(!0),v(null);try{let e=await fetch("/api/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),a=await e.json();if(!e.ok||!a.success){v(a.error||"Something went wrong. Please try again."),g(!1);return}g(!1),d.aM.requireDeposit&&n&&a.reservationId?n(a.reservationId,x):u(!0)}catch(e){v("Unable to reach the server. Please try again later."),g(!1)}},f=new Date().toISOString().split("T")[0],w="w-full bg-transparent border-b border-black/25 focus:border-black text-black placeholder-black/40 py-2.5 text-sm outline-none transition-colors duration-300";return(0,s.jsx)("div",{id:"reservation","data-section":"reservation",className:"".concat(a?"":"min-h-screen flex flex-col justify-center","\n                  px-6 sm:px-12 md:px-16 lg:px-24 py-16 sm:py-20"),children:(0,s.jsxs)("div",{className:"max-w-lg",children:[a&&(0,s.jsx)("button",{onClick:t,className:"mb-8 p-2 -ml-2 text-black/60 hover:text-black transition-colors",children:(0,s.jsx)(r.A,{size:20})}),(0,s.jsx)(i.P.p,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-black text-[10px] tracking-[0.35em] uppercase mb-3 font-jost",children:"reservations"}),(0,s.jsx)(i.P.h2,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,delay:.06},className:"text-black mb-4 leading-tight font-cormorant italic",style:{fontSize:"clamp(2.2rem, 8vw, 4rem)"},children:"book your table"}),(0,s.jsxs)(i.P.p,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.12},className:"text-black text-[13px] sm:text-sm leading-relaxed mb-10 sm:mb-12",children:["For parties of seven or more, please call us at"," ",(0,s.jsx)("a",{href:d.Dc.phoneHref,className:"text-black border-b border-black/30",children:d.Dc.phone}),"."]}),b?(0,s.jsxs)(i.P.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"flex flex-col gap-4",children:[(0,s.jsx)(c.A,{size:28,className:"text-black"}),(0,s.jsxs)("p",{className:"text-black",style:{fontFamily:"'Cormorant Garamond', serif",fontSize:"1.5rem",fontStyle:"italic"},children:["We look forward to welcoming you, ",x.firstName,"."]}),(0,s.jsxs)("p",{className:"text-black text-sm",children:["A confirmation has been sent to ",x.email,"."]}),(0,s.jsx)("button",{onClick:()=>{h(m),u(!1),v(null)},className:"self-start text-xs tracking-[0.2em] uppercase border-b border-black/40 text-black mt-4 hover:border-black transition-colors",children:"new reservation"})]}):(0,s.jsxs)(i.P.form,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:.15},onSubmit:N,className:"space-y-8 sm:space-y-6",children:[j&&(0,s.jsx)(i.P.p,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},className:"text-red-600 text-sm",children:j}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-black text-[10px] tracking-[0.25em] uppercase block mb-1",children:"First name *"}),(0,s.jsx)("input",{name:"firstName",value:x.firstName,onChange:y,required:!0,placeholder:"John",className:w})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-black text-[10px] tracking-[0.25em] uppercase block mb-1",children:"Last name *"}),(0,s.jsx)("input",{name:"lastName",value:x.lastName,onChange:y,required:!0,placeholder:"Doe",className:w})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-black text-[10px] tracking-[0.25em] uppercase block mb-1",children:"Email *"}),(0,s.jsx)("input",{type:"email",name:"email",value:x.email,onChange:y,required:!0,placeholder:"john@example.com",className:w})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-black text-[10px] tracking-[0.25em] uppercase block mb-1",children:"Phone"}),(0,s.jsx)("input",{type:"tel",name:"phone",value:x.phone,onChange:y,placeholder:"+1 (555) 000-0000",className:w})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-black text-[10px] tracking-[0.25em] uppercase block mb-1",children:"Date *"}),(0,s.jsx)("input",{type:"date",name:"date",value:x.date,onChange:y,required:!0,min:f,className:"".concat(w," [color-scheme:light]")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-black text-[10px] tracking-[0.25em] uppercase block mb-1",children:"Time *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{name:"time",value:x.time,onChange:y,required:!0,className:"".concat(w," appearance-none pr-6"),children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"—"}),d.CN.map(e=>(0,s.jsx)("option",{children:e},e))]}),(0,s.jsx)(o,{size:12,className:"absolute right-0 top-3 text-black pointer-events-none"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-black text-[10px] tracking-[0.25em] uppercase block mb-1",children:"Guests *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{name:"guests",value:x.guests,onChange:y,required:!0,className:"".concat(w," appearance-none pr-6"),children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"—"}),p.map(e=>(0,s.jsxs)("option",{children:[e," ","1"===e?"guest":"guests"]},e))]}),(0,s.jsx)(o,{size:12,className:"absolute right-0 top-3 text-black pointer-events-none"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-black text-[10px] tracking-[0.25em] uppercase block mb-1",children:"Occasion"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{name:"occasion",value:x.occasion,onChange:y,className:"".concat(w," appearance-none pr-6"),children:[(0,s.jsx)("option",{value:"",children:"none"}),d.$I.map(e=>(0,s.jsx)("option",{children:e},e))]}),(0,s.jsx)(o,{size:12,className:"absolute right-0 top-3 text-black pointer-events-none"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-black text-[10px] tracking-[0.25em] uppercase block mb-1",children:"Requests & dietary needs"}),(0,s.jsx)("textarea",{name:"notes",value:x.notes,onChange:y,rows:2,placeholder:"Allergies, seating preferences...",className:"".concat(w," resize-none")})]}),(0,s.jsxs)("button",{type:"submit",disabled:k,className:"group flex items-center gap-3 text-black text-xs tracking-[0.2em] uppercase mt-4 border-b border-black/40 pb-0.5 hover:border-black transition-all duration-300 disabled:opacity-50",children:[k?"confirming...":"confirm reservation",!k&&(0,s.jsx)("span",{className:"transform group-hover:translate-x-1 transition-transform duration-300 text-base",children:"→"})]})]})]})})}function h(e){let{open:a,onClose:t,onReservationCreated:l}=e;return(0,s.jsx)(n.N,{children:a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/30 backdrop-blur-sm",onClick:t}),(0,s.jsx)(i.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.55,ease:[.22,1,.36,1]},className:"fixed right-0 top-0 bottom-0 z-50 bg-[#F2EDE7] w-full max-w-xl overflow-y-auto shadow-2xl",children:(0,s.jsx)(x,{asModal:!0,onClose:t,onReservationCreated:l})})]})})}}}]);